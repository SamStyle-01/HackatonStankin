# HackatonStankin
Автоматизированный подбор новостей с каналов Станкина, используя нейросеть.

Цикл обработки сообщения следующий:
Пользователь, используя текстовый или голосовой ввод даёт команду Telegram боту начать поиск новостей среди доступных каналов в Telegram и ВК.
Далее Telegram бот отправляет этот запрос нейросети, которая читает базу данных, содержащую краткое описание всех новостей за какой-то промежуток времени.
После чего нейросеть отдаёт id подходящих постов в каналах, которые обрабатываются и выводятся пользователю в Telegram боте в виде
краткого описания поста. Вместе с кратким описанием поста пользователю поступает ссылка на каждый пост.
База данных сформирована так же нейросетью. Она периодически (раз в 5 минут) считывает последние новости с использованием другого, более широкого функционала
бота, и добавляет их в кратком виде в базу данных.
Так же доступно несколько параметров кастомизации: период времени, за который мы считываем новости (от 1 до 14 включительно последних дней) и
доступен выбор каналов, с которых поступают новости.

Нейросеть была использована от Яндекса. Было добавлено 10 каналов Telegram и VK. Был сделан упор на масштабируемость.

YandexNeuralAPIClient - осуществляет подключение и работу с нейросетью.
vk_service - токен для работы с ВК.
TelegramClient - Telethon-клиент для парсинга каналов в Telegram.
TOKEN - токен для работы с Telegram-ботом.

save_users_to_file - сохраняет данные о пользователях в json файл.
load_users_from_file - загружает данные из json файла в переменную users.
update_db - обновляет обновляет базу данных новыми постами из подключенных каналов.
get_day_word - определяет склонение для слова "день" в зависимости от положения в предложении.
recognize_speech_from_audio - считывает данные из голосовых сообщений.
set_commands - добавляет в интерфейс Telegram-бота команды.
find_entity - находит название канала по его username.
command_start_handler - обработка команды /start.
command_add_channel_handler - обработка команды добавления в набор пользователя канала.
command_remove_channel_handler - обработка команды удаления из набора пользователя канала.
process_add_button - обработчик нажатия на кнопки добавления канала в набор.
process_remove_button - обработчик нажатия на кнопки удаления канала в набор.
command_change_time_period_handler - обработка команды изменения интервала времени просмотра новостей.
handle_voice - вызов функции считывания голоса и запуск цикла обработки сообщения.
text_handler - запуск цикла обработки текстового сообщения.
main - запуск программы.
